# Motivation
I propose a project to forecast future energy production from hydropower dams, specifically in regions where the water resources is dominated by snowpack dynamics. Energy production is of interest to a broad community including government, utility companies, and commodity traders. Proper management of energy is critical to power cities, commerce, and citizen’s daily lives. Some dams use water resources from neighboring states and countries to produce electricity, thus posing potential for conflict. Accurate understanding of existing hydropower potential will help minimize unnecessary power production from fossil fuel powerplant. Since hydropower is only one part of the energy landscape, it is particularly sensitive to climate change because of new extremes, both dry and wet, in snow fall. Very dry years require reservoir operators to conserve inflows from melting snowpack to maintain an adequate water supply through the summer. In contrast, in very wet years, reservoir operations must manage downstream flood risk. Too much inflow requires operators to spill water rather than allow water through the turbines to generate electricity. This project proposes to use spatially explicit estimate of snowpack water volume to forecast monthly hydropower product.

# Data Sources
I downloaded the Snow Data Assimilation System (SNODAS) data product published daily by the National Oceanic and Atmospheric Administration- National Weather Service's National Operational Hydrologic Remote Sensing Center (https://nsidc.org/data/g02158). This data product includes snow water equivalent, or the amount of water present in a snowpack (SWE), as output from a complex model and data assimilation system. The data product is published daily at 1 km resolution and covers the conterminous United States. It is available 2003-2017. At a most basic understanding, the magnitude of the snow water volume present on the landscape will dictate the future inflow to a reservoir and potential for hydropower generation. However, as mentioned above, there are several competing factors including the need to store water for use through the summer, hydropower generation, and mitigating flood risk from the reservoir overtopping. 
I downloaded the historic monthly electric power generation from the U.S. Energy Information Administration (https://www.eia.gov/electricity/data/eia923/). This provides the monthly power generation in Megawatt-hours for each hydropower dam in the United States from 2006-2017.

# Concept Demonstration Site
I chose to explore the potential for this analysis in the Tuolumne River basin of California. It receives most of its water from snowfall every winter, and the basin drains into the Hetch Hetchy reservoir. The reservoir is controlled by the R C Kirkwood dam. The basin about 1,000 km2 and is the primary water supply for the city of San Fransisco.

# Methods
The SWE dataset extracted from the compressed files and cropped and masked from the coterminous U.S. to the Tuolumne basin using GIS tools. The power generation data was imported to R from Excel files. The analysis was performed on a water year basis, which spans Oct-Sept to include complete snow season, and was limited to 2006-2017 due to data availability.
I investigated the duality of hydropower generation and SWE visually using graphs and derived two variables from the SWE dataset that are intuitive predictors of hydropower generation. These were subsequently visually confirmed. The first is the SWE volume in the basin on the first of the month and the second is the change in SWE in the month before the month of interest.  I also tested the change in SWE over multiple months but did not realize any benefit. I used bootstrap resampling (with replacement) and a linear model in an elastic net framework to test the ability of SWE volume at the beginning of the month, change in SWE volume in the previous month, and month to predict hydropower generation. The code and results from the exploratory analysis can be seen on GitHub (https://github.com/dschneiderch/swe_hydrogeneration/blob/master/scripts/04analyze_swevol-netgen.Rmd). In particular, I noted that each year hydropower generation has a consistent dip around Feb and Mar. I would suggest that the operators are filling the reservoir as the lowest elevation SWE is melting, and is an important proxy for understanding the operating protocols used at Hetch Hetchy. I also noted that hysteresis – different regressions for accucmulation and melt seasons.

